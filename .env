# =============================================================================
# Tanca-Gertec Price Server — Configuração
# Copie este arquivo para .env e preencha as variáveis
# =============================================================================

# -----------------------------------------------------------------------------
# Servidor TCP (terminais POS)
# -----------------------------------------------------------------------------
TCP_PORT=6500

# -----------------------------------------------------------------------------
# Servidor HTTP (gerenciamento / API)
# -----------------------------------------------------------------------------
HTTP_PORT=3000

# Diretório onde o PRICETAB.TXT é armazenado
# Em produção (Docker) use /data — será mapeado para um volume
DATA_DIR=./data

# -----------------------------------------------------------------------------
# Autenticação do servidor HTTP
# Todos os endpoints (exceto /health) exigem o header: X-API-Key: <valor>
# -----------------------------------------------------------------------------
HTTP_API_KEY=changeme

# -----------------------------------------------------------------------------
# Fonte do PRICETAB.TXT
# URL pública ou autenticada que retorna o arquivo de tabela de preços
# -----------------------------------------------------------------------------
PRICETAB_URL=https://projardim.erp.linvix.com/cadastros_v2/produtos/exec/gerar_busca_precos.php?layout=gertec

# Tipo de autenticação para a URL acima:
#   none    — sem autenticação (padrão)
#   basic   — usuário e senha (HTTP Basic Auth)
#   bearer  — token Bearer
#   header  — cabeçalho customizado
PRICETAB_AUTH_TYPE=none

# Para PRICETAB_AUTH_TYPE=basic
PRICETAB_AUTH_USER=
PRICETAB_AUTH_PASS=

# Para PRICETAB_AUTH_TYPE=bearer
PRICETAB_AUTH_TOKEN=

# Para PRICETAB_AUTH_TYPE=header
PRICETAB_AUTH_HEADER_NAME=PHPSESSID
PRICETAB_AUTH_HEADER_VALUE=4sdasdsdfas

# -----------------------------------------------------------------------------
# Cron de atualização automática do PRICETAB.TXT
# Formato padrão cron: minuto hora dia mês dia-da-semana
# Exemplos:
#   0 * * * *     — a cada hora (padrão)
#   */30 * * * *  — a cada 30 minutos
#   0 6 * * *     — todo dia às 06:00
#   0 6,12,18 * * * — às 06h, 12h e 18h
# -----------------------------------------------------------------------------
CRON_SCHEDULE=0 * * * *
